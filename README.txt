****************************** Target Machine : lxlogin5.lrz.de **********************
*******  How to use the system *******
1. How to fetch the code
2. How to build the system
3. How to execute the program
*************************************
**************************************************************************************


**************************************************************************************
1. How to fetch the code
**************************************************************************************
$ module load git
$ git clone https://gitlab.lrz.de/ga78boj/hpcLabProjectRepastHPC.git



**************************************************************************************
2. How to build the system
**************************************************************************************
(Patience: It would take around 20-25 minutes)

$ cd hpcLabProjectRepastHPC/INSTALLATION
$ sh ./build_lib.sh
$ make -f Makefile all
$ cd ../ext/bin/
$ cp ../../scripts/*  ./



**************************************************************************************
3. How to execute the program
**************************************************************************************
Here I assume you are already in 'hpcLabProjectRepastHPC/ext/bin' directory.

Note: 
$  vim ../../src/zombies/model.props

Change your application configuration here. Most important are (proc.per.x) and  (proc.per.y). 
This configuration file model.props contains the variables for human and zombie input files. 
	** human.input.file the file containing the HDF5 input of the initial human distribution
	** human.output.file the file to hold the output of the human distribution at the given cadence
	** human.dataname the name of the HDF5 data block
For zombie files above description is similar.

Input data can be generated by producing HDF5 files natively(recommendation : HDFView2.9). 
You need to keep your input hdf data files in “hpcLabProjectRepastHPC/scripts” directory. 
The given input hdf data are 100x100 grid with a distribution of population that we are 
experimenting with(5k human + 1k zombie = 6k agents)


$ salloc --ntasks=80

Change your application configuration here. Most important are (proc.per.x) and  (proc.per.y).
$ vim ../../src/zombies/model.props

$ sh execute_app.sh NUM_PROCESS
(Note: NUM_PROCESS = ((proc.per.x) X (proc.per.y)) is an integer)

$ module load cube

$ cd scorep_zombie_model_NUM_PROCESS_sum
(Note: NUM_PROCESS is an integer that we had calculated in above step)

$ cube profile.cubex



Note: All execution results get saved in "hpcLabProjectRepastHPC/ext/bin/collected_data" directory.

